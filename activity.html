<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Writing DOM</title>
    
    

</head>
<body>
    <div id="app"></div>

    <script>
        document.getElementById('app').innerHTML = `
        <form id="form">
            <h1>Form</h1>
            <h5>Carl Patrick Daguinotas - BSIT 3R8</h5>
    
            <div class="formField">
                <label for="firstName">First Name:</label>
                <input type="text" id="firstName" name="firstName" placeholder="e.g : Juan" required>
            </div>
    
            <div class="formField">
                <label for="lastName">Last Name:</label>
                <input type="text" id="lastName" name="lastName" placeholder="e.g : Dela Cruz" required>
            </div>
    
            <div class="formField">
                <label for="email">Email Address:</label>
                <input type="email" id="email" name="email" placeholder="e.g : juanDC@gmail.com" required>
                <span id="emailError" class="error"></span>
            </div>
    
            <div class="formField">
                <label for="password">Password:</label>
                <input type="password" id="password" name="password"  required>
            </div>
    
            <div class="formField">
                <label for="confirmPassword">Confirm Password:</label>
                <input type="password" id="confirmPassword" name="confirmPassword" required>
                <span id="passwordError" class="error"></span>
            </div>
    
            <button type="submit">Register</button>
        </form>`;

        // BODY  
        document.body.style.fontFamily = "Arial, sans-serif";
        document.body.style.margin = "0 auto";

        const form = document.getElementById('form');
        form.style.width = "40%";
        form.style.margin =  "200px auto";
        form.style.padding = "30px";
        form.style.borderRadius = "20px";
        form.style.border = "2px solid gray";

        const formFields = form.querySelectorAll('.formField');
        formFields.forEach((field) => {
            field.style.marginBottom = "15px";
        });

        const labels = form.querySelectorAll('label');
        labels.forEach((label) => {
            label.style.display = "block";
            label.style.marginBottom = "5px";
            label.style.fontWeight = "bolder";
        });

        const inputs = form.querySelectorAll('input[type="text"], input[type="email"], input[type="password"]');
        inputs.forEach((input) => {
            input.style.width = "100%";
            input.style.padding = "8px";
            input.style.boxSizing = "border-box";
        });

        const errors = form.querySelectorAll('.error');
        errors.forEach((error) => {
            error.style.color = "red";
        });

        
        const button = form.querySelector('button');
        button.style.color = "#fff";
        button.style.backgroundColor = "black";
        button.style.border = "none";
        button.style.padding = "15px";
        button.style.borderRadius = "10px";
        button.style.transition = "0.7s";
        button.style.boxSizing = "border-box";
        button.style.height = "50px";

        // Form validation logic
        document.getElementById('form').addEventListener('submit', function(event) {
            // Prevent the default form submission
            event.preventDefault();

            // Clear previous errors
            document.getElementById('emailError').textContent = '';
            document.getElementById('passwordError').textContent = '';
            

            // Get form values
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
            const passwordConfirmation = document.getElementById('confirmPassword').value;
            const inputs = document.querySelectorAll('input');
            // Email format 
            const eFormat = /^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/;
            
            let infoValid = true;

            // Validate email format 
            if (!eFormat.test(email)) {
                document.getElementById('emailError').textContent = 'Enter a valid email address.';
                infoValid = false;
            }

            // Password match verification
            if (password !== passwordConfirmation) {
                document.getElementById('passwordError').textContent = 'Passwords do not match.';
                infoValid = false;
            }

            // If all validations pass, show an alert
            if (infoValid) {
                    alert('Registration Successful!');

                    // Clear all input fields
                    const inputs = document.querySelectorAll('input');
                    inputs.forEach((input) => {
                        input.value = '';
                    });
                }

        });

    </script>
</body>
</html>
